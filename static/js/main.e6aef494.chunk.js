(this.webpackJsonptabit=this.webpackJsonptabit||[]).push([[0],{135:function(t){t.exports=JSON.parse('{"instruments":[{"id":18,"name":["Stick"],"volume":0.258621,"muted":false,"gain":1},{"id":0,"name":["Kick"],"volume":1.5,"muted":false,"gain":2.15},{"id":20,"name":["Stick"],"volume":0.193966,"muted":false,"gain":1},{"id":1,"name":["Stick"],"volume":0.232759,"muted":false,"gain":1.2},{"id":17,"name":["Kick"],"volume":1.31897,"muted":false,"gain":0.7},{"id":22,"name":["tom02"],"volume":0.65,"muted":false,"gain":1},{"id":2,"name":["Snare Jazz"],"volume":1,"muted":false,"gain":0.85},{"id":13,"name":["Snare 1"],"volume":0.35,"muted":false,"gain":0.4},{"id":10,"name":["Djembe4 Slap"],"volume":0.206897,"muted":false,"gain":1},{"id":11,"name":["Djembe4 Tone"],"volume":0.452586,"muted":false,"gain":0.95},{"id":12,"name":["Djembe4 Bass"],"volume":0.50431,"muted":false,"gain":1.5},{"id":16,"name":["Shaker"],"volume":0.530172,"muted":false,"gain":2.2},{"id":21,"name":["Shaker"],"volume":1.5,"muted":false,"gain":2.45}],"patterns":[{"size":384,"name":["k-1"],"notes":[{"position":0,"instrument":0},{"position":0,"instrument":21},{"position":0,"instrument":11},{"position":0,"instrument":1},{"position":12,"instrument":21},{"position":24,"instrument":11},{"position":24,"instrument":0},{"position":24,"instrument":21},{"position":24,"instrument":2},{"position":24,"instrument":1},{"position":36,"instrument":21},{"position":36,"instrument":11},{"position":48,"instrument":18},{"position":48,"instrument":21},{"position":48,"instrument":2},{"position":48,"instrument":11},{"position":48,"instrument":1},{"position":60,"instrument":0},{"position":72,"instrument":10},{"position":72,"instrument":21},{"position":72,"instrument":1},{"position":84,"instrument":17},{"position":96,"instrument":18},{"position":96,"instrument":1},{"position":108,"instrument":17},{"position":120,"instrument":12},{"position":120,"instrument":17},{"position":144,"instrument":12},{"position":144,"instrument":18},{"position":144,"instrument":21},{"position":144,"instrument":2},{"position":144,"instrument":17},{"position":156,"instrument":21},{"position":168,"instrument":21},{"position":180,"instrument":2},{"position":192,"instrument":0},{"position":192,"instrument":11},{"position":192,"instrument":21},{"position":192,"instrument":1},{"position":216,"instrument":12},{"position":216,"instrument":0},{"position":216,"instrument":21},{"position":216,"instrument":2},{"position":216,"instrument":1},{"position":240,"instrument":18},{"position":240,"instrument":2},{"position":240,"instrument":11},{"position":240,"instrument":1},{"position":252,"instrument":12},{"position":252,"instrument":0},{"position":264,"instrument":2},{"position":264,"instrument":21},{"position":276,"instrument":11},{"position":276,"instrument":17},{"position":288,"instrument":0},{"position":288,"instrument":12},{"position":288,"instrument":17},{"position":288,"instrument":21},{"position":300,"instrument":21},{"position":312,"instrument":11},{"position":312,"instrument":18},{"position":312,"instrument":1},{"position":324,"instrument":0},{"position":324,"instrument":12},{"position":324,"instrument":21},{"position":324,"instrument":17},{"position":336,"instrument":2},{"position":336,"instrument":21},{"position":360,"instrument":18},{"position":360,"instrument":21},{"position":360,"instrument":2},{"position":360,"instrument":10},{"position":360,"instrument":1},{"position":372,"instrument":21},{"position":372,"instrument":2}],"resolution":12,"instrumentTracks":{"0":{"rep":[1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],"resolution":12},"1":{"rep":[1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],"resolution":12},"2":{"rep":[0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,1],"resolution":12},"10":{"rep":[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],"resolution":12},"11":{"rep":[1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0],"resolution":12},"12":{"rep":[0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],"resolution":12},"13":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"16":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"17":{"rep":[0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,0,0],"resolution":12},"18":{"rep":[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0],"resolution":12},"20":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"21":{"rep":[1,1,1,1,1,0,1,0,0,0,0,0,1,1,1,0,1,0,1,0,0,0,1,0,1,1,0,1,1,0,1,1],"resolution":12},"22":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12}}},{"size":384,"name":["k-2"],"notes":[{"position":0,"instrument":0},{"position":0,"instrument":2},{"position":0,"instrument":12},{"position":0,"instrument":21},{"position":0,"instrument":17},{"position":12,"instrument":0},{"position":12,"instrument":12},{"position":12,"instrument":17},{"position":24,"instrument":0},{"position":24,"instrument":12},{"position":24,"instrument":21},{"position":24,"instrument":17},{"position":36,"instrument":21},{"position":48,"instrument":2},{"position":48,"instrument":21},{"position":48,"instrument":18},{"position":48,"instrument":10},{"position":48,"instrument":1},{"position":72,"instrument":21},{"position":84,"instrument":2},{"position":84,"instrument":21},{"position":96,"instrument":21},{"position":96,"instrument":18},{"position":96,"instrument":1},{"position":108,"instrument":2},{"position":108,"instrument":21},{"position":120,"instrument":11},{"position":120,"instrument":21},{"position":132,"instrument":2},{"position":132,"instrument":10},{"position":144,"instrument":2},{"position":144,"instrument":18},{"position":144,"instrument":1},{"position":156,"instrument":10},{"position":168,"instrument":0},{"position":168,"instrument":12},{"position":168,"instrument":21},{"position":168,"instrument":17},{"position":180,"instrument":0},{"position":180,"instrument":12},{"position":180,"instrument":17},{"position":192,"instrument":0},{"position":192,"instrument":2},{"position":192,"instrument":12},{"position":192,"instrument":21},{"position":192,"instrument":17},{"position":216,"instrument":21},{"position":216,"instrument":11},{"position":228,"instrument":2},{"position":228,"instrument":11},{"position":228,"instrument":21},{"position":240,"instrument":2},{"position":240,"instrument":18},{"position":240,"instrument":21},{"position":240,"instrument":1},{"position":252,"instrument":10},{"position":264,"instrument":21},{"position":264,"instrument":11},{"position":276,"instrument":2},{"position":276,"instrument":21},{"position":288,"instrument":11},{"position":288,"instrument":21},{"position":288,"instrument":18},{"position":288,"instrument":1},{"position":300,"instrument":11},{"position":312,"instrument":21},{"position":324,"instrument":10},{"position":336,"instrument":18},{"position":336,"instrument":11},{"position":336,"instrument":1},{"position":360,"instrument":21}],"resolution":12,"instrumentTracks":{"0":{"rep":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"1":{"rep":[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],"resolution":12},"2":{"rep":[1,0,0,0,1,0,0,1,0,1,0,1,1,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0],"resolution":12},"10":{"rep":[0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],"resolution":12},"11":{"rep":[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,1,0,1,1,0,0,1,0,0,0],"resolution":12},"12":{"rep":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"13":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"16":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"17":{"rep":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"18":{"rep":[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],"resolution":12},"20":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"21":{"rep":[1,0,1,1,1,0,1,1,1,1,1,0,0,0,1,0,1,0,1,1,1,0,1,1,1,0,1,0,0,0,1,0],"resolution":12},"22":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12}}},{"size":192,"name":["lightbulb"],"notes":[{"position":0,"instrument":0},{"position":12,"instrument":0},{"position":24,"instrument":0},{"position":36,"instrument":0},{"position":48,"instrument":0},{"position":96,"instrument":2},{"position":144,"instrument":0},{"position":160,"instrument":0},{"position":176,"instrument":0}],"resolution":4,"instrumentTracks":{"0":{"rep":[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],"resolution":4},"1":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"2":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"10":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"11":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"12":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"13":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"16":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"17":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"18":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"20":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"21":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"22":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4}}},{"size":192,"name":["break"],"notes":[{"position":24,"instrument":21},{"position":24,"instrument":2},{"position":24,"instrument":11},{"position":48,"instrument":21},{"position":48,"instrument":2},{"position":48,"instrument":11},{"position":96,"instrument":21},{"position":96,"instrument":2},{"position":96,"instrument":11},{"position":120,"instrument":21},{"position":120,"instrument":2},{"position":120,"instrument":11},{"position":144,"instrument":0},{"position":168,"instrument":21},{"position":168,"instrument":2},{"position":168,"instrument":11},{"position":168,"instrument":0}],"resolution":24,"instrumentTracks":{"0":{"rep":[0,0,0,0,0,0,1,1],"resolution":24},"1":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"2":{"rep":[0,1,1,0,1,1,0,1],"resolution":24},"10":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"11":{"rep":[0,1,1,0,1,1,0,1],"resolution":24},"12":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"13":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"16":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"17":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"18":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"20":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"21":{"rep":[0,1,1,0,1,1,0,1],"resolution":24},"22":{"rep":[0,0,0,0,0,0,0,0],"resolution":24}}},{"size":192,"name":["squash"],"notes":[{"position":0,"instrument":0},{"position":0,"instrument":2},{"position":0,"instrument":21},{"position":0,"instrument":12},{"position":48,"instrument":0},{"position":48,"instrument":2},{"position":48,"instrument":21},{"position":48,"instrument":12},{"position":96,"instrument":0},{"position":96,"instrument":2},{"position":96,"instrument":21},{"position":96,"instrument":12},{"position":144,"instrument":0},{"position":144,"instrument":2},{"position":144,"instrument":21},{"position":144,"instrument":12}],"resolution":48,"instrumentTracks":{"0":{"rep":[1,1,1,1],"resolution":48},"1":{"rep":[0,0,0,0],"resolution":48},"2":{"rep":[1,1,1,1],"resolution":48},"10":{"rep":[0,0,0,0],"resolution":48},"11":{"rep":[0,0,0,0],"resolution":48},"12":{"rep":[1,1,1,1],"resolution":48},"13":{"rep":[0,0,0,0],"resolution":48},"16":{"rep":[0,0,0,0],"resolution":48},"17":{"rep":[0,0,0,0],"resolution":48},"18":{"rep":[0,0,0,0],"resolution":48},"20":{"rep":[0,0,0,0],"resolution":48},"21":{"rep":[1,1,1,1],"resolution":48},"22":{"rep":[0,0,0,0],"resolution":48}}}]}')},153:function(t,n,e){t.exports=e(191)},158:function(t,n,e){},177:function(t,n){},179:function(t,n){},189:function(t,n,e){},191:function(t,n,e){"use strict";e.r(n);var r=e(0),i=e.n(r),o=e(10),s=e.n(o),a=(e(158),e(17)),u=e(12),l=e(22),m=e(23),c=e(46),p=e(45),f=e(3),h=e(69),d=function(t){Object(c.a)(e,t);var n=Object(p.a)(e);function e(t){var r;return Object(l.a)(this,e),(r=n.call(this,t)).onChange=r.onChange.bind(Object(h.a)(r)),r}return Object(m.a)(e,[{key:"onChange",value:function(t){var n=this,e=t.target.files[0],r=new FileReader;r.onload=function(t){n.props.onImport&&n.props.onImport({file:e,content:t.target.result})},r.readAsText(e)}},{key:"render",value:function(){return i.a.createElement("input",{type:"file",onChange:this.onChange})}}]),e}(i.a.Component),v=function(){function t(){Object(l.a)(this,t)}return Object(m.a)(t,null,[{key:"validateConfig",value:function(t,n){if(null!=n&&t.beatResolution%n!==0)throw new Error("patternResolution doesn't divide beatResolution");if(t.lineResolution<=0)throw new Error("config.lineResolution doesn't divide patternResolution")}},{key:"chunkString",value:function(t,n){if(n<=0)throw new Error("chunkSize must be > 0");return t.match(new RegExp(".{1,"+n+"}","g"))}},{key:"createNumberMarker",value:function(n,e,r){if(e<=0||r<=0)throw new Error("(patternResolution, patternSize) arguments <= 0");if(r%e!==0)throw new Error("patternSize,doesn't divide patternResolution");t.validateConfig(n,e);for(var i=Math.min(r,n.lineResolution),o=Math.ceil(i/n.beatResolution),s=Array.from(Array(i/e),(function(t){return n.numberRestMark})),a=0;a<o;a++)s[a*(n.beatResolution/e)]=((a+1)%10).toString();return s.join("")}},{key:"formatLineWithMarkers",value:function(n,e,r){t.validateConfig(n);var i=n.beatResolution/r,o=n.showBeatMark?t.chunkString(e,i).join(n.beatMark):e;return n.lineMark+o+n.lineMark}},{key:"fromInstrumentAndTrack",value:function(n,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];if(!t.DEFAULT_FORMAT_CONFIG.hasOwnProperty(s))throw new Error("passed unrecognised property "+s)}var u=Object.assign(Object.assign({},t.DEFAULT_FORMAT_CONFIG),r),l=Object.values(e);if(0===l.length)return"";for(var m=l[0].length(),c=l[0].resolution,p=l[0].length()/l[0].resolution,f=Array(p).fill(u.restMark),h=0;h<f.length;++h)for(var d=0,v=Object.entries(n);d<v.length;d++){var g=Object(a.a)(v[d],2),b=g[0],k=g[1],y=e[b];null!=y&&1===y.rep[h]&&(f[h]=k)}var E=f.join(""),O=t.chunkString(E,u.lineResolution/c),j=[];u.showBeatNumbers&&j.push(t.formatLineWithMarkers(u,t.createNumberMarker(u,c,m),c));for(var S=0;S<O.length;++S)j.push(t.formatLineWithMarkers(u,O[S],c));return j.join("\n")}}]),t}();v.DEFAULT_FORMAT_CONFIG={restMark:"-",beatMark:"|",lineMark:"|",numberRestMark:"-",beatResolution:48,showBeatMark:!0,showBeatNumbers:!0,lineResolution:768},v.FORMAT_CONFIG_STRINGS=[["restMark",["-","."," "]],["numberRestMark",["-","."," "]],["beatResolution",["24","48","96"]]],v.FORMAT_CONFIG_BOOLS=["showBeatMark","showBeatNumbers"];var g=v,b=e(4),k=function(t){Object(c.a)(e,t);var n=Object(p.a)(e);function e(t){var r;return Object(l.a)(this,e),(r=n.call(this,t)).state={},r}return Object(m.a)(e,[{key:"formatText",value:function(t){var n,e=this.props.config,r=[],i=Object(u.a)(t);try{for(i.s();!(n=i.n()).done;){var o=Object(a.a)(n.value,2),s=o[0],l=o[1],m=g.fromInstrumentAndTrack(l,this.props.tracks,e);r.push(s);var c,p=Object(u.a)(m.split("\n"));try{for(p.s();!(c=p.n()).done;){var f=c.value;r.push(f)}}catch(h){p.e(h)}finally{p.f()}}}catch(h){i.e(h)}finally{i.f()}return r}},{key:"render",value:function(){var t=this.props.classes;return i.a.createElement("div",{className:t.root},this.formatText(this.props.instruments).map((function(t,n){return i.a.createElement("p",{key:n.toString()},t)})))}}]),e}(i.a.Component),y=Object(b.a)((function(t){return{root:{"margin-bottom":t.spacing(2),fontFamily:"Roboto Mono",textAlign:"left",whiteSpace:"pre"}}}))(k),E=e(103),O=e.n(E),j=e(131);function S(t,n){for(var e=t.concat([n]),r=0,i=[48,24,16,12,8,6,4,3,2,1];r<i.length;r++){var o,s=i[r],a=!0,l=Object(u.a)(e);try{for(l.s();!(o=l.n()).done;){if(o.value%s!==0){a=!1;break}}}catch(m){l.e(m)}finally{l.f()}if(a)return s}throw new Error("Failed to predict base")}var w=function(){function t(n,e){if(Object(l.a)(this,t),0===n.length)throw new Error("patternArray must not be zero length");this.rep=n,this.resolution=e}return Object(m.a)(t,[{key:"length",value:function(){return this.rep.length*this.resolution}},{key:"empty",value:function(){return 0===this.rep.reduce((function(t,n){return t+n}))}},{key:"_sumOverlapsOfArrays",value:function(t,n){for(var e=0,r=0;r<t.length;++r)t[r]&&n[r]&&e++;return e}},{key:"countOverlaps",value:function(t){if(this.resolution===t.resolution)return this._sumOverlapsOfArrays(this.rep,t.rep);var n=function(t,n){if(t<1||n<1)throw new Error("x<1 || y<1");for(;Math.max(t,n)%Math.min(t,n)!==0;)t>n?t%=n:n%=t;return Math.min(t,n)}(this.resolution,t.resolution),e=this.formatResolution(n),r=t.formatResolution(n);return this._sumOverlapsOfArrays(e.rep,r.rep)}},{key:"format",value:function(n){var e=this.resolution*this.rep.length,r=this.toPoints(),i=t.representPoints(r,n,e);return i?new t(i,n):null}},{key:"toPoints",value:function(){var t,n=[],e=Object(u.a)(Array(this.rep.length).keys());try{for(e.s();!(t=e.n()).done;){var r=t.value;this.rep[r]&&n.push(this.resolution*r)}}catch(i){e.e(i)}finally{e.f()}return n}}],[{key:"representPoints",value:function(t,n,e){if(e<=0)throw new Error("size must be greater than zero");if(e<n||e%n!==0)throw new Error("resolution must be less than size and divide it evenly");var r,i=new Array(e/n).fill(0),o=Object(u.a)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s%n!==0)throw new Error("Failed to represent point "+s.toString()+" at resolution "+n.toString());if(s>=e)throw new Error("Failed to represent point "+s.toString()+" for invalid specified size "+e.toString());i[s/n]=1}}catch(a){o.e(a)}finally{o.f()}return i}},{key:"fromPositions",value:function(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null!==r&&void 0!==r?r:S(n,e);return new t(t.representPoints(n,i,e),i)}}]),t}(),C=e(132),A=e.n(C);function M(t){var n=t.song.instrumentList[0].instrument,e=Array.from(n,(function(t){return{id:parseInt(t.id),name:t.name,volume:parseFloat(t.volume),muted:"true"===t.isMuted[0],gain:parseFloat(t.gain)}})),r=t.song.patternList[0].pattern,i=Array.from(r,(function(t){var n=t.noteList[0].note,e=parseInt(t.size),r=[];return n&&(r=(r=Array.from(n,(function(t){return{position:parseInt(t.position),instrument:parseInt(t.instrument)}}))).filter((function(t){return t.position<e}))),{size:e,name:t.name,notes:r}})),o=Array.from(i,(function(t){var n,r=function(t,n){return S(Array.from(t.notes,(function(t){return t.position})),n)}(t,t.size),i={},o=Object(u.a)(e);try{var s=function(){var e=n.value,o=t.notes.filter((function(t){return t.instrument===e.id})),s=Array.from(o,(function(t){return t.position}));i[e.id.toString()]=w.fromPositions(s,t.size,r)};for(o.s();!(n=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return t.resolution=r,t.instrumentTracks=i,t}));return{instruments:e,patterns:o}}function I(){return(I=Object(j.a)(O.a.mark((function t(n){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new A.a.Parser,t.abrupt("return",e.parseStringPromise(n).then(M));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var F={parseHydrogenPromise:function(t){return I.apply(this,arguments)}},x=(e(189),e(271)),T=e(138),R=e(267),N=e(274),P=e(268),z=e(248),_=e(193),D=e(269),B=e(194),G=e(261),L=e(136),W=e.n(L),U=e(137),X=e.n(U),J=e(57),H=e(59),K=e(244),$=e(275),q=e(249),Z=e(245),Q=e(252),V=e(250),Y=e(251),tt=e(270),nt=e(253),et=Object(K.a)((function(t){return{formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)}}}));function rt(t){var n=t.replace(/([A-Z])/g," $1");return n[0].toUpperCase()+n.slice(1)}function it(t){var n=et();function e(t){return" "===t?"space":t}var r=function(n){var e,r=Object(H.a)(Object(H.a)({},t.settings),{},Object(J.a)({},n.target.name,"space"===(e=n.target.value)?" ":e));t.onChange(r)},o=function(n){var e=Object(H.a)(Object(H.a)({},t.settings),{},Object(J.a)({},n.target.name,n.target.checked));t.onChange(e)};return i.a.createElement(Q.a,{className:n.root},g.FORMAT_CONFIG_STRINGS.map((function(o){return function(o,s){var a="form-control-"+o+"-id";return i.a.createElement(Z.a,{variant:"filled",className:n.formControl,key:a,id:a},i.a.createElement($.a,{id:"settings-option-{name}"},o),i.a.createElement(tt.a,{labelId:"settings-option-"+o+"-labelID",id:"settings-option-"+o+"-id",value:e(t.settings[o]),name:o,onChange:r},s.map((function(t){return i.a.createElement(q.a,{key:"settings-menu-item-"+o+"-"+t,value:e(t)},e(t))}))))}(o[0],o[1])})).reduce((function(t,n){return[t,i.a.createElement(nt.a,null),n]})),i.a.createElement(nt.a,null),g.FORMAT_CONFIG_BOOLS.map((function(n){return e=n,i.a.createElement(V.a,{control:i.a.createElement(Y.a,{checked:t.settings[e],onChange:o,name:e}),label:rt(e),key:"switch-"+e});var e})).reduce((function(t,n){return[t,i.a.createElement(nt.a,null),n]})))}var ot=g.DEFAULT_FORMAT_CONFIG,st=e(80),at=e(272),ut=e(263),lt=e(265),mt=e(254),ct=e(262),pt=e(264),ft=e(255),ht=e(134),dt=e.n(ht),vt=e(104),gt=e.n(vt),bt=e(133),kt=e.n(bt),yt=e(273),Et=e(256),Ot=e(260),jt=e(258),St=e(259),wt=e(257),Ct=e(38),At=Object(K.a)((function(t){return{root:{display:"flex"}}})),Mt=Object(b.a)({root:{marginLeft:0,marginRight:0}})(V.a),It=Object(b.a)({root:{padding:2}})(B.a),Ft=Object(b.a)({root:{textAlign:"center"}})(mt.a);function xt(t){var n=At(),e=i.a.useState(-1),r=Object(a.a)(e,2),o=r[0],s=r[1],u=i.a.useState(""),l=Object(a.a)(u,2),m=l[0],c=l[1],p=function(n,e){return i.a.createElement(mt.a,{align:"center"},i.a.createElement(Mt,{control:i.a.createElement(at.a,{checked:t.instrumentMask[n]===e,onChange:function(r){return function(n,e,r){var i=t.instrumentIndex[n].id,o=t.instruments.findIndex((function(t){return i in t[1]})),s=e;if(o!==s){var a=t.instruments[o],u=["",{}];if(null!=a){u[0]=a[0];for(var l=0,m=Object.keys(a[1]);l<m.length;l++){var c=m[l];c!==i.toString()&&(u[1][c]=a[1][c])}}var p=[t.instruments[s][0],Object.assign({},t.instruments[s][1])];p[1][i.toString()]=null!=a?a[1][i]:"X";for(var f=[],h=0;h<t.instruments.length;++h)h===o?f.push(u):h===s?f.push(p):f.push(t.instruments[h]);t.onChange(f)}}(n,e)},name:n+","+e.toString()})}))},f=function(n){return i.a.createElement(ft.a,null,i.a.createElement(mt.a,{component:"th",scope:"row"},i.a.createElement(Ct.a,null,t.instruments[n][0]),i.a.createElement(It,{onClick:function(t){return s(n)}},i.a.createElement(gt.a,{fontSize:"small"})),i.a.createElement(It,{onClick:function(e){!function(n){var e=t.instruments.slice(0,n).concat(t.instruments.slice(n+1));t.onChange(e)}(n)}},i.a.createElement(kt.a,{fontSize:"small"}))),Object(st.a)(Array(t.instrumentIndex.length).keys()).map((function(t){return p(t,n)})))},h=i.a.useState(-1),d=Object(a.a)(h,2),v=d[0],g=d[1],b=i.a.useState(""),k=Object(a.a)(b,2),y=k[0],E=k[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(Et.a,{open:o>=0,onClose:function(t){return s(-1)},"aria-labelledby":"form-dialog-title"},i.a.createElement(wt.a,{id:"form-dialog-title"}),i.a.createElement(jt.a,null,i.a.createElement(St.a,null,"Enter instrument name"),i.a.createElement(yt.a,{autoFocus:!0,margin:"dense",id:"name",fullWidth:!0,value:m,onChange:function(t){return c(t.target.value)}})),i.a.createElement(Ot.a,null,i.a.createElement(G.a,{onClick:function(t){return s(-1)},color:"primary"},"Cancel"),i.a.createElement(G.a,{onClick:function(n){if(o===t.instruments.length){var e=[m,{}],r=Array.from(t.instruments);r.push(e),t.onChange(r)}else{var i=Array.from(t.instruments);i[o][0]=m,t.onChange(i)}s(-1),c("")},color:"primary"},"Confirm"))),i.a.createElement(Et.a,{open:v>=0,onClose:function(t){return g(-1)},"aria-labelledby":"form-dialog-title"},i.a.createElement(wt.a,{id:"form-dialog-title"}),i.a.createElement(jt.a,null,i.a.createElement(St.a,null,"Enter notation symbol"),i.a.createElement(yt.a,{autoFocus:!0,margin:"dense",id:"name",fullWidth:!0,value:y,onChange:function(t){return E(t.target.value)}})),i.a.createElement(Ot.a,null,i.a.createElement(G.a,{onClick:function(t){return g(-1)},color:"primary"},"Cancel"),i.a.createElement(G.a,{onClick:function(n){var e=t.instrumentIndex[v].id,r=t.instruments.findIndex((function(t){return e in t[1]})),i=Array.from(t.instruments);i[r][1][e]=y,t.onChange(i),g(-1)},color:"primary"},"Confirm"))),i.a.createElement(ct.a,null,i.a.createElement(ut.a,{className:n.table,"aria-label":"simple table"},i.a.createElement(pt.a,null,i.a.createElement(ft.a,null,i.a.createElement(mt.a,null," Instrument "),Object(st.a)(Array(t.instrumentIndex.length).keys()).map((function(n){return i.a.createElement(Ft,null,i.a.createElement(Ct.a,null,t.instrumentIndex[n].name),i.a.createElement(It,{onClick:function(e){return function(n){var e=t.instrumentIndex[n].id,r=t.instruments.findIndex((function(t){return e in t[1]})),i=t.instruments[r][1][e];E(i),g(n)}(n)}},i.a.createElement(gt.a,{fontSize:"small"})))})))),i.a.createElement(lt.a,null,Object(st.a)(Array(t.instruments.length).keys()).map((function(t){return f(t)})),i.a.createElement(ft.a,null,i.a.createElement(mt.a,{component:"th",scope:"row"},i.a.createElement(B.a,{onClick:function(n){return s(t.instruments.length)},"aria-label":"add"},i.a.createElement(dt.a,null))))))))}function Tt(t,n){for(var e=Array(t.length),r=0;r<t.length;++r)for(var i=t[r].id,o=0;o<n.length;++o){var s=n[o];i.toString()in s[1]&&(e[r]=o)}return e}var Rt={"Djembe Slap":"S","Djembe Tone":"t","Djembe Bass":"O","Snare Ghost":"-","Snare Accent":"X","Shaker Ghost":"x","Shaker Accent":"X",Click:"X",Bass:"O",Tom:"O",Default:"X"};function Nt(t){var n,e=[],r=Object(u.a)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=Object.assign({},i);o.name=o.name[0].toLowerCase(),e.push(o)}}catch(s){r.e(s)}finally{r.f()}return e}function Pt(t,n,e,r){var i=[];if(2===t.length){var o=t[0],s=t[1],a=o.volume>s.volume||o.volume===s.volume&&o.gain>s.gain,l={};l[o.id.toString()]=a?e:r,l[s.id.toString()]=a?r:e,i.push([n,l])}else{var m,c=Object(u.a)(t);try{for(c.s();!(m=c.n()).done;){var p=m.value,f={};f[p.id.toString()]=e,i.push([n,f])}}catch(h){c.e(h)}finally{c.f()}}return i}function zt(t){var n,e=new Set,r=Object(u.a)(t);try{for(r.s();!(n=r.n()).done;)for(var i=n.value,o=0,s=Object.entries(i.instrumentTracks);o<s.length;o++){var l=Object(a.a)(s[o],2),m=l[0];l[1].empty()||e.add(parseInt(m))}}catch(c){r.e(c)}finally{r.f()}return e}function _t(t,n){var e,r=zt(n),i=[],o=Object(u.a)(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;r.has(s.id)&&i.push(s)}}catch(a){o.e(a)}finally{o.f()}return i}function Dt(t,n,e){var r=[];r=(r=(r=(r=r.concat(function(t,n,e){for(var r=Nt(t),i=zt(e),o=r.filter((function(t){return i.has(t.id)&&!t.name.includes("djembe")&&(t.name.includes("click")||t.name.includes("stick")||t.name.includes("tom")||t.name.includes("bass")||t.name.includes("kick"))})),s=Array.from(o,(function(t){return t.name.includes("click")||t.name.includes("stick")})),a=[],u=0;u<Math.floor(o.length/2);++u)if(s[2*u]!==s[2*u+1]){var l=s[2*u]?o[2*u]:o[2*u+1],m=s[2*u]?o[2*u+1]:o[2*u],c=m.name.includes("tom")?"Tom":"Bass",p={};p[m.id.toString()]=n[c],p[l.id.toString()]=n.Click,a.push([c,p])}if(o.length%2!==0&&!s[o.length-1]){var f=o[o.length-1],h=f.name.includes("tom")?"Tom":"Bass",d={};d[f.id.toString()]=n[h],a.push([h,d])}return a}(t,n,e))).concat(function(t,n){var e=Nt(t).filter((function(t){return t.name.includes("djembe")}));if(0===e.length)return[];if(e.length<=3){for(var r=Array.from(e,(function(t){return t.name.includes("slap")})),i=Array.from(e,(function(t){return t.name.includes("tone")})),o=Array.from(e,(function(t){return t.name.includes("bass")})),s=0;s<e.length;++s){if(1!==r[s]+i[s]+o[s])return[]}for(var a={},u=0;u<e.length;++u)r[u]?a[e[u].id.toString()]=n["Djembe Slap"]:i[u]?a[e[u].id.toString()]=n["Djembe Tone"]:o[u]&&(a[e[u].id.toString()]=n["Djembe Bass"]);return[["Djembe",a]]}return[]}(t,n))).concat(function(t,n){return Pt(Nt(t).filter((function(t){return t.name.includes("snare")})),"Snare",n["Snare Accent"],n["Snare Ghost"])}(t,n))).concat(function(t,n){return Pt(Nt(t).filter((function(t){return t.name.includes("shaker")})),"Shaker",n["Shaker Accent"],n["Shaker Ghost"])}(t,n));var i,o=zt(e),s=Object(u.a)(t);try{for(s.s();!(i=s.n()).done;){var a=i.value;if(o.has(a.id)){var l,m=!1,c=Object(u.a)(r);try{for(c.s();!(l=c.n()).done;){var p=l.value;a.id.toString()in p[1]&&(m=!0)}}catch(h){c.e(h)}finally{c.f()}if(!1===m){var f={};f[a.id.toString()]=n.Default,r.push([a.name[0],f])}}}}catch(h){s.e(h)}finally{s.f()}return r}var Bt=e(266),Gt=e(135),Lt=Object(T.a)({palette:{type:"dark",primary:{main:"#36d9be"},secondary:{main:"#f50057"}}}),Wt=function(t){Object(c.a)(e,t);var n=Object(p.a)(e);function e(t){var r;return Object(l.a)(this,e),(r=n.call(this,t)).state={instruments:null,instrumentIndex:null,instrumentMask:null,patterns:null,selectedPattern:null,loadedFile:null,settingsOpen:!1,formatSettings:Object.assign({},ot)},r}return Object(m.a)(e,[{key:"handleFileImport",value:function(t){var n=this;F.parseHydrogenPromise(t.content).then((function(e){var r=Dt(e.instruments,Rt,e.patterns),i=_t(e.instruments,e.patterns);n.setState({instrumentIndex:i,instrumentMask:Tt(i,r),instruments:r,patterns:e.patterns,selectedPattern:0===e.patterns.length?null:0,loadedFile:t.file.name})}))}},{key:"selectPattern",value:function(t){this.setState({selectedPattern:t})}},{key:"renderPattern",value:function(t,n){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{instruments:this.state.instruments,tracks:t.instrumentTracks,config:this.state.formatSettings}),i.a.createElement(Bt.a,{container:!0},i.a.createElement(Bt.a,{item:!0,xs:2}),i.a.createElement(Bt.a,{item:!0,xs:8},i.a.createElement(xt,{instruments:this.state.instruments,instrumentIndex:this.state.instrumentIndex,instrumentMask:this.state.instrumentMask,onChange:function(t){e.setState({instruments:t,instrumentMask:Tt(e.state.instrumentIndex,t)})}})),i.a.createElement(Bt.a,{item:!0,xs:2})))}},{key:"loadExample",value:function(){var t=function(t){var n,e=Object(u.a)(t.patterns);try{for(e.s();!(n=e.n()).done;){for(var r=n.value,i={},o=0,s=Object.entries(r.instrumentTracks);o<s.length;o++){var l=Object(a.a)(s[o],2),m=l[0],c=l[1];i[m]=new w(c.rep,c.resolution)}r.instrumentTracks=i}}catch(p){e.e(p)}finally{e.f()}return t}(Gt),n=Dt(t.instruments,Rt,t.patterns),e=_t(t.instruments,t.patterns);this.setState({instrumentIndex:e,instrumentMask:Tt(e,n),instruments:n,patterns:t.patterns,selectedPattern:0===t.patterns.length?null:0,loadedFile:"kuva.example"})}},{key:"renderMainContent",value:function(){var t=this;if(null==this.state.patterns||0===this.state.patterns.length){var n=null!=this.state.patterns&&0===this.state.patterns.length?i.a.createElement(x.a,{severity:"error"},this.state.loadedFile," contained no patterns! Try another."):"";return i.a.createElement("div",null,i.a.createElement("h2",null,"tabit"),i.a.createElement("p",null,"I read .h2songs and write tab"),i.a.createElement(G.a,{variant:"contained",onClick:this.loadExample.bind(this)},"See an example"),i.a.createElement("p",null,"Or import your own"),i.a.createElement(d,{onImport:this.handleFileImport.bind(this)}),n)}var e=null;if(null==this.state.selectedPattern){e=[];var r,o=Object(u.a)(this.state.patterns);try{for(o.s();!(r=o.n()).done;){var s=r.value;e.push(this.renderPattern(s))}}catch(m){o.e(m)}finally{o.f()}}else{var a=this.state.patterns[this.state.selectedPattern];e=this.renderPattern(a)}var l=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{display:"flex",width:"95%"}},i.a.createElement("div",{className:"content-title",style:{flexGrow:1}}),i.a.createElement(B.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){t.setState({settingsOpen:!0})},className:Object(f.a)(this.state.settingsOpen&&l.hide)},i.a.createElement(W.a,null))),e,i.a.createElement(N.a,{className:l.drawer,variant:"persistent",anchor:"right",open:this.state.settingsOpen,classes:{paper:l.drawerPaper}},i.a.createElement("div",{className:l.drawerHeader},i.a.createElement(B.a,{onClick:function(){t.setState({settingsOpen:!1})}},i.a.createElement(X.a,null))),i.a.createElement(it,{onChange:function(n){t.setState({formatSettings:n})},settings:this.state.formatSettings})))}},{key:"render",value:function(){var t,n=this,e=this.props,r=null!=this.state.patterns,o=this.renderMainContent();return i.a.createElement("div",{className:"App"},i.a.createElement(R.a,{theme:Lt},i.a.createElement(P.a,null),i.a.createElement(N.a,{className:e.drawer,variant:"persistent",open:r},i.a.createElement("div",{className:e.drawerContainer},i.a.createElement(z.a,null,(null!==(t=this.state.patterns)&&void 0!==t?t:[]).map((function(t,e){return i.a.createElement(_.a,{button:!0,key:"drawer-pattern"+e.toString(),onClick:function(){return n.selectPattern(e)}},i.a.createElement(D.a,{primary:t.name}))}))))),o))}}]),e}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(Wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[153,1,2]]]);
//# sourceMappingURL=main.e6aef494.chunk.js.map