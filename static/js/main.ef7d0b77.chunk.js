(this.webpackJsonptabit=this.webpackJsonptabit||[]).push([[0],{114:function(t,e,n){"use strict";n.d(e,"b",(function(){return k})),n.d(e,"a",(function(){return y}));var r=n(40),i=n(64),a=n(0),o=n.n(a),s=n(161),u=n(242),l=n(226),c=n(223),m=n(228),p=n(163),f=n(227),d=n(238),h=n(66),v=n(51),g=Object(s.a)((function(t){return{formControl:{margin:t.spacing(1),minWidth:120},selectEmpty:{marginTop:t.spacing(2)}}}));function b(t){var e=t.replace(/([A-Z])/g," $1");return e[0].toUpperCase()+e.slice(1)}function k(t){var e=g();function n(t){return" "===t?"space":t}var a=function(e){var n,a=Object(i.a)(Object(i.a)({},t.settings),{},Object(r.a)({},e.target.name,"space"===(n=e.target.value)?" ":n));t.onChange(a)},s=function(e){var n=Object(i.a)(Object(i.a)({},t.settings),{},Object(r.a)({},e.target.name,e.target.checked));t.onChange(n)};return o.a.createElement(m.a,{className:e.root},v.a.FORMAT_CONFIG_STRINGS.map((function(r){return function(r,i){var s="form-control-"+r+"-id";return o.a.createElement(c.a,{variant:"filled",className:e.formControl,key:s,id:s},o.a.createElement(u.a,{id:"settings-option-{name}"},r),o.a.createElement(d.a,{labelId:"settings-option-"+r+"-labelID",id:"settings-option-"+r+"-id",value:n(t.settings[r]),name:r,onChange:a},i.map((function(t){return o.a.createElement(l.a,{key:"settings-menu-item-"+r+"-"+t,value:n(t)},n(t))}))))}(r[0],r[1])})).reduce((function(t,e){return[t,o.a.createElement(h.a,null),e]})),o.a.createElement(h.a,null),v.a.FORMAT_CONFIG_BOOLS.map((function(e){return n=e,o.a.createElement(p.a,{control:o.a.createElement(f.a,{checked:t.settings[n],onChange:s,name:n}),label:b(n),key:"switch-"+n});var n})).reduce((function(t,e){return[t,o.a.createElement(h.a,null),e]})))}var y=v.a.DEFAULT_FORMAT_CONFIG},141:function(t,e,n){"use strict";(function(t){var r=n(40),i=n(13),a=n(11),o=n(17),s=n(18),u=n(35),l=n(33),c=n(0),m=n.n(c),p=n(3),f=n(142),d=n(143),h=n(148),v=(n(220),n(240)),g=n(117),b=n(235),k=n(170),y=n(236),O=n(225),E=n(162),w=n(234),j=n(45),S=n(68),C=n(156),M=n.n(C),x=n(157),T=n.n(x),A=n(116),I=n.n(A),R=n(66),P=n(114),D=n(65),F=n(44),z=n(91),B=n(153),_=n(82),N=n(158),G=Object(g.a)({palette:{type:"dark",primary:{main:"#36d9be"},secondary:{main:"#f50057"}}}),L=function(e){Object(u.a)(c,e);var n=Object(l.a)(c);function c(t){var e;return Object(o.a)(this,c),(e=n.call(this,t)).state={instruments:null,instrumentIndex:null,instrumentMask:null,patterns:null,selectedPattern:null,loadedFile:null,settingsOpen:!1,patternsOpen:!1,formatSettings:Object.assign({},P.a),progress:null},e}return Object(s.a)(c,[{key:"handleFileImport",value:function(t){var e=this;h.a.parseHydrogenPromise(t.content).then((function(n){var r=Object(F.c)(n.instruments,F.a,n.patterns),i=Object(F.b)(n.instruments,n.patterns);e.setState({instrumentIndex:i,instrumentMask:Object(D.b)(i,r),instruments:r,patterns:n.patterns,selectedPattern:0===n.patterns.length?null:0,loadedFile:t.file.name,patternsOpen:!0})}))}},{key:"selectPattern",value:function(t){this.setState({selectedPattern:t})}},{key:"renderPattern",value:function(t,e){var n=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{instruments:this.state.instruments,tracks:t.instrumentTracks,config:this.state.formatSettings,active:this.state.progress}),m.a.createElement(N.a,{instruments:this.state.instruments,instrumentIndex:this.state.instrumentIndex,tracks:t.instrumentTracks}),m.a.createElement(z.a,{container:!0},m.a.createElement(z.a,{item:!0,xs:2}),m.a.createElement(z.a,{item:!0,xs:8},m.a.createElement(D.a,{instruments:this.state.instruments,instrumentIndex:this.state.instrumentIndex,instrumentMask:this.state.instrumentMask,onChange:function(t){n.setState({instruments:t,instrumentMask:Object(D.b)(n.state.instrumentIndex,t)})}})),m.a.createElement(z.a,{item:!0,xs:2})))}},{key:"loadExample",value:function(){var t=function(t){var e,n=Object(a.a)(t.patterns);try{for(n.s();!(e=n.n()).done;){for(var r=e.value,o={},s=0,u=Object.entries(r.instrumentTracks);s<u.length;s++){var l=Object(i.a)(u[s],2),c=l[0],m=l[1];o[c]=new _.a(m.rep,m.resolution)}r.instrumentTracks=o}}catch(p){n.e(p)}finally{n.f()}return t}(B),e=Object(F.c)(t.instruments,F.a,t.patterns),n=Object(F.b)(t.instruments,t.patterns);this.setState({instrumentIndex:n,instrumentMask:Object(D.b)(n,e),instruments:e,patterns:t.patterns,selectedPattern:0===t.patterns.length?null:0,loadedFile:"kuva.example",patternsOpen:!0})}},{key:"checkMobile",value:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}},{key:"renderMainContent",value:function(){var e=this;if(null==this.state.patterns||0===this.state.patterns.length){var n=null!=this.state.patterns&&0===this.state.patterns.length?m.a.createElement(v.a,{severity:"error"},this.state.loadedFile," contained no patterns! Try another."):"";return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",null,m.a.createElement("h2",null,"tabit"),m.a.createElement("p",null,"I read .h2songs and write tab"),m.a.createElement(S.a,{variant:"contained",onClick:this.loadExample.bind(this)},"See an example"),m.a.createElement("p",null,"Or import your own"),m.a.createElement(f.a,{onImport:this.handleFileImport.bind(this)}),n),m.a.createElement("div",{style:{position:"absolute",bottom:0}},m.a.createElement("p",null,"tabit relies on publicly available sound libraries listed at ",m.a.createElement("a",{href:"https://github.com/andrew-murray/tabit"},"https://github.com/andrew-murray/tabit"))))}var i,o=null;if(null==this.state.selectedPattern){o=[];var s,u=Object(a.a)(this.state.patterns);try{for(u.s();!(s=u.n()).done;){var l=s.value;o.push(this.renderPattern(l))}}catch(D){u.e(D)}finally{u.f()}}else{var c=this.state.patterns[this.state.selectedPattern];o=this.renderPattern(c)}var d=function(t){return t&&"keydown"===t.type&&("Tab"===t.key||"Shift"===t.key)},h=function(t){d(t)||e.setState({settingsOpen:!0})},g=function(t){d(t)||e.setState({settingsOpen:!1})},b=function(t){d(t)||e.setState({patternsOpen:!1})},y=function(t){d(t)||e.setState({patternsOpen:!0})},C=this.props,x=t.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),A=this.checkMobile();return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{style:{display:"flex",width:"95%"}},m.a.createElement(j.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:y,className:Object(p.a)(Object(r.a)({},C.hide,!this.state.patternsOpen))},m.a.createElement(I.a,null)),m.a.createElement("div",{className:"content-title",style:{flexGrow:1}}),m.a.createElement(j.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:h,className:Object(p.a)(this.state.settingsOpen&&C.hide)},m.a.createElement(M.a,null))),o,m.a.createElement(k.a,{disableBackdropTransition:!x,disableDiscovery:x,className:C.drawer,variant:A?void 0:"persistent",open:this.state.patternsOpen,onOpen:y,onClose:b},m.a.createElement("div",{className:C.drawerHeader},m.a.createElement(j.a,{onClick:b},m.a.createElement(T.a,null))),m.a.createElement(R.a,null),m.a.createElement("div",{className:C.drawerContainer},m.a.createElement(O.a,null,(null!==(i=this.state.patterns)&&void 0!==i?i:[]).map((function(t,n){return m.a.createElement(E.a,{button:!0,key:"drawer-pattern"+n.toString(),onClick:function(){return e.selectPattern(n)}},m.a.createElement(w.a,{primary:t.name}))}))))),m.a.createElement(k.a,{disableBackdropTransition:!x,disableDiscovery:x,className:C.drawer,variant:A?void 0:"persistent",anchor:"right",open:this.state.settingsOpen,onOpen:h,onClose:g,classes:{paper:C.drawerPaper}},m.a.createElement("div",{className:C.drawerHeader},m.a.createElement(j.a,{onClick:g},m.a.createElement(I.a,null))),m.a.createElement(R.a,null),m.a.createElement(P.b,{onChange:function(t){e.setState({formatSettings:t})},settings:this.state.formatSettings})))}},{key:"render",value:function(){var t=this.renderMainContent();return m.a.createElement("div",{className:"App"},m.a.createElement(b.a,{theme:G},m.a.createElement(y.a,null),t))}}]),c}(m.a.Component);e.a=L}).call(this,n(58))},142:function(t,e,n){"use strict";var r=n(17),i=n(18),a=n(77),o=n(35),s=n(33),u=n(0),l=n.n(u),c=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this,t)).onChange=i.onChange.bind(Object(a.a)(i)),i}return Object(i.a)(n,[{key:"onChange",value:function(t){var e=this,n=t.target.files[0],r=new FileReader;r.onload=function(t){e.props.onImport&&e.props.onImport({file:n,content:t.target.result})},r.readAsText(n)}},{key:"render",value:function(){return l.a.createElement("input",{type:"file",onChange:this.onChange})}}]),n}(l.a.Component);e.a=c},143:function(t,e,n){"use strict";var r=n(13),i=n(11),a=n(17),o=n(18),s=n(35),u=n(33),l=n(0),c=n.n(l),m=n(51),p=n(4),f=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={},r}return Object(o.a)(n,[{key:"formatText",value:function(t){var e,n=this.props.config,a=[],o=Object(i.a)(t);try{for(o.s();!(e=o.n()).done;){var s=Object(r.a)(e.value,2),u=s[0],l=s[1],c=m.a.fromInstrumentAndTrack(l,this.props.tracks,n);a.push(u);var p,f=Object(i.a)(c.split("\n"));try{for(f.s();!(p=f.n()).done;){var d=p.value;a.push(d)}}catch(h){f.e(h)}finally{f.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"render",value:function(){var t=this.props.classes;return c.a.createElement("div",{className:t.root},this.formatText(this.props.instruments).map((function(t,e){return c.a.createElement("p",{key:e.toString(),dangerouslySetInnerHTML:{__html:t}})})))}}]),n}(c.a.Component);e.a=Object(p.a)((function(t){return{root:{"margin-bottom":t.spacing(2),fontFamily:"Roboto Mono",textAlign:"left",whiteSpace:"pre","& .activeNote":{color:t.palette.secondary.main}}}}))(f)},148:function(t,e,n){"use strict";var r=n(113),i=n.n(r),a=n(149),o=n(11),s=n(82),u=n(150),l=n.n(u),c=n(83);function m(t){var e=t.song.instrumentList[0].instrument,n=Array.from(e,(function(t){var e=t.instrumentComponent[0],n={id:parseInt(t.id),name:t.name,volume:parseFloat(t.volume),muted:"true"===t.isMuted[0],gain:parseFloat(t.gain),drumkit:t.drumkit[0]};return"layer"in e&&(n.filename=e.layer[0].filename[0]),n})),r=t.song.patternList[0].pattern,i=Array.from(r,(function(t){var e=t.noteList[0].note,n=parseInt(t.size),r=[];return e&&(r=(r=Array.from(e,(function(t){return{position:parseInt(t.position),instrument:parseInt(t.instrument)}}))).filter((function(t){return t.position<n}))),{size:n,name:t.name,notes:r}})),a=Array.from(i,(function(t){var e,r=function(t,e){var n=Array.from(t.notes,(function(t){return t.position}));return Object(c.a)(n,e)}(t,t.size),i={},a=Object(o.a)(n);try{var u=function(){var n=e.value,a=t.notes.filter((function(t){return t.instrument===n.id})),o=Array.from(a,(function(t){return t.position}));i[n.id.toString()]=s.a.fromPositions(o,t.size,r)};for(a.s();!(e=a.n()).done;)u()}catch(l){a.e(l)}finally{a.f()}return t.resolution=r,t.instrumentTracks=i,t}));return{instruments:n,patterns:a}}function p(){return(p=Object(a.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new l.a.Parser,t.abrupt("return",n.parseStringPromise(e).then(m));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.a={parseHydrogenPromise:function(t){return p.apply(this,arguments)}}},153:function(t){t.exports=JSON.parse('{"instruments":[{"id":18,"name":["Stick"],"volume":0.258621,"muted":false,"gain":1,"drumkit":"GMkit","filename":"stick_Woody.flac"},{"id":0,"name":["Kick"],"volume":1.5,"muted":false,"gain":2.15,"drumkit":"GMkit","filename":"kick_Dry_b.flac"},{"id":20,"name":["Stick"],"volume":0.193966,"muted":false,"gain":1,"drumkit":"DeathMetal"},{"id":1,"name":["Stick"],"volume":0.232759,"muted":false,"gain":1.2,"drumkit":"GMkit","filename":"stick_Woody.flac"},{"id":17,"name":["Kick"],"volume":1.31897,"muted":false,"gain":0.7,"drumkit":"GMkit","filename":"kick_Dry_b.flac"},{"id":22,"name":["tom02"],"volume":0.65,"muted":false,"gain":1,"drumkit":"DeathMetal"},{"id":2,"name":["Snare Jazz"],"volume":1,"muted":false,"gain":0.85,"drumkit":"GMkit","filename":"sn_Jazz_c.flac"},{"id":13,"name":["Snare 1"],"volume":0.35,"muted":false,"gain":0.4,"drumkit":"DeathMetal"},{"id":10,"name":["Djembe4 Slap"],"volume":0.206897,"muted":false,"gain":1,"drumkit":"circAfrique v4","filename":"Djembe4 Slap.wav"},{"id":11,"name":["Djembe4 Tone"],"volume":0.452586,"muted":false,"gain":0.95,"drumkit":"circAfrique v4","filename":"Djembe4 Tone.wav"},{"id":12,"name":["Djembe4 Bass"],"volume":0.50431,"muted":false,"gain":1.5,"drumkit":"circAfrique v4","filename":"Djembe4 Bass.wav"},{"id":16,"name":["Shaker"],"volume":0.530172,"muted":false,"gain":2.2,"drumkit":"TR808EmulationKit","filename":"808_Shaker.flac"},{"id":21,"name":["Shaker"],"volume":1.5,"muted":false,"gain":2.45,"drumkit":"TR808EmulationKit","filename":"808_Shaker.flac"}],"patterns":[{"size":384,"name":["k-1"],"notes":[{"position":0,"instrument":0},{"position":0,"instrument":21},{"position":0,"instrument":11},{"position":0,"instrument":1},{"position":12,"instrument":21},{"position":24,"instrument":11},{"position":24,"instrument":0},{"position":24,"instrument":21},{"position":24,"instrument":2},{"position":24,"instrument":1},{"position":36,"instrument":21},{"position":36,"instrument":11},{"position":48,"instrument":18},{"position":48,"instrument":21},{"position":48,"instrument":2},{"position":48,"instrument":11},{"position":48,"instrument":1},{"position":60,"instrument":0},{"position":72,"instrument":10},{"position":72,"instrument":21},{"position":72,"instrument":1},{"position":84,"instrument":17},{"position":96,"instrument":18},{"position":96,"instrument":1},{"position":108,"instrument":17},{"position":120,"instrument":12},{"position":120,"instrument":17},{"position":144,"instrument":12},{"position":144,"instrument":18},{"position":144,"instrument":21},{"position":144,"instrument":2},{"position":144,"instrument":17},{"position":156,"instrument":21},{"position":168,"instrument":21},{"position":180,"instrument":2},{"position":192,"instrument":0},{"position":192,"instrument":11},{"position":192,"instrument":21},{"position":192,"instrument":1},{"position":216,"instrument":12},{"position":216,"instrument":0},{"position":216,"instrument":21},{"position":216,"instrument":2},{"position":216,"instrument":1},{"position":240,"instrument":18},{"position":240,"instrument":2},{"position":240,"instrument":11},{"position":240,"instrument":1},{"position":252,"instrument":12},{"position":252,"instrument":0},{"position":264,"instrument":2},{"position":264,"instrument":21},{"position":276,"instrument":11},{"position":276,"instrument":17},{"position":288,"instrument":0},{"position":288,"instrument":12},{"position":288,"instrument":17},{"position":288,"instrument":21},{"position":300,"instrument":21},{"position":312,"instrument":11},{"position":312,"instrument":18},{"position":312,"instrument":1},{"position":324,"instrument":0},{"position":324,"instrument":12},{"position":324,"instrument":21},{"position":324,"instrument":17},{"position":336,"instrument":2},{"position":336,"instrument":21},{"position":360,"instrument":18},{"position":360,"instrument":21},{"position":360,"instrument":2},{"position":360,"instrument":10},{"position":360,"instrument":1},{"position":372,"instrument":21},{"position":372,"instrument":2}],"resolution":12,"instrumentTracks":{"0":{"rep":[1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],"resolution":12},"1":{"rep":[1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],"resolution":12},"2":{"rep":[0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,1],"resolution":12},"10":{"rep":[0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],"resolution":12},"11":{"rep":[1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0],"resolution":12},"12":{"rep":[0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],"resolution":12},"13":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"16":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"17":{"rep":[0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,0,0,0,0],"resolution":12},"18":{"rep":[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0],"resolution":12},"20":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"21":{"rep":[1,1,1,1,1,0,1,0,0,0,0,0,1,1,1,0,1,0,1,0,0,0,1,0,1,1,0,1,1,0,1,1],"resolution":12},"22":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12}}},{"size":384,"name":["k-2"],"notes":[{"position":0,"instrument":0},{"position":0,"instrument":2},{"position":0,"instrument":12},{"position":0,"instrument":21},{"position":0,"instrument":17},{"position":12,"instrument":0},{"position":12,"instrument":12},{"position":12,"instrument":17},{"position":24,"instrument":0},{"position":24,"instrument":12},{"position":24,"instrument":21},{"position":24,"instrument":17},{"position":36,"instrument":21},{"position":48,"instrument":2},{"position":48,"instrument":21},{"position":48,"instrument":18},{"position":48,"instrument":10},{"position":48,"instrument":1},{"position":72,"instrument":21},{"position":84,"instrument":2},{"position":84,"instrument":21},{"position":96,"instrument":21},{"position":96,"instrument":18},{"position":96,"instrument":1},{"position":108,"instrument":2},{"position":108,"instrument":21},{"position":120,"instrument":11},{"position":120,"instrument":21},{"position":132,"instrument":2},{"position":132,"instrument":10},{"position":144,"instrument":2},{"position":144,"instrument":18},{"position":144,"instrument":1},{"position":156,"instrument":10},{"position":168,"instrument":0},{"position":168,"instrument":12},{"position":168,"instrument":21},{"position":168,"instrument":17},{"position":180,"instrument":0},{"position":180,"instrument":12},{"position":180,"instrument":17},{"position":192,"instrument":0},{"position":192,"instrument":2},{"position":192,"instrument":12},{"position":192,"instrument":21},{"position":192,"instrument":17},{"position":216,"instrument":21},{"position":216,"instrument":11},{"position":228,"instrument":2},{"position":228,"instrument":11},{"position":228,"instrument":21},{"position":240,"instrument":2},{"position":240,"instrument":18},{"position":240,"instrument":21},{"position":240,"instrument":1},{"position":252,"instrument":10},{"position":264,"instrument":21},{"position":264,"instrument":11},{"position":276,"instrument":2},{"position":276,"instrument":21},{"position":288,"instrument":11},{"position":288,"instrument":21},{"position":288,"instrument":18},{"position":288,"instrument":1},{"position":300,"instrument":11},{"position":312,"instrument":21},{"position":324,"instrument":10},{"position":336,"instrument":18},{"position":336,"instrument":11},{"position":336,"instrument":1},{"position":360,"instrument":21}],"resolution":12,"instrumentTracks":{"0":{"rep":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"1":{"rep":[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],"resolution":12},"2":{"rep":[1,0,0,0,1,0,0,1,0,1,0,1,1,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0],"resolution":12},"10":{"rep":[0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],"resolution":12},"11":{"rep":[0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,1,0,1,1,0,0,1,0,0,0],"resolution":12},"12":{"rep":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"13":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"16":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"17":{"rep":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"18":{"rep":[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],"resolution":12},"20":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12},"21":{"rep":[1,0,1,1,1,0,1,1,1,1,1,0,0,0,1,0,1,0,1,1,1,0,1,1,1,0,1,0,0,0,1,0],"resolution":12},"22":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":12}}},{"size":192,"name":["break"],"notes":[{"position":24,"instrument":21},{"position":24,"instrument":2},{"position":24,"instrument":11},{"position":48,"instrument":21},{"position":48,"instrument":2},{"position":48,"instrument":11},{"position":96,"instrument":21},{"position":96,"instrument":2},{"position":96,"instrument":11},{"position":120,"instrument":21},{"position":120,"instrument":2},{"position":120,"instrument":11},{"position":144,"instrument":0},{"position":168,"instrument":21},{"position":168,"instrument":2},{"position":168,"instrument":11},{"position":168,"instrument":0}],"resolution":24,"instrumentTracks":{"0":{"rep":[0,0,0,0,0,0,1,1],"resolution":24},"1":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"2":{"rep":[0,1,1,0,1,1,0,1],"resolution":24},"10":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"11":{"rep":[0,1,1,0,1,1,0,1],"resolution":24},"12":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"13":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"16":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"17":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"18":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"20":{"rep":[0,0,0,0,0,0,0,0],"resolution":24},"21":{"rep":[0,1,1,0,1,1,0,1],"resolution":24},"22":{"rep":[0,0,0,0,0,0,0,0],"resolution":24}}},{"size":192,"name":["lightbulb"],"notes":[{"position":0,"instrument":0},{"position":12,"instrument":0},{"position":24,"instrument":0},{"position":36,"instrument":0},{"position":48,"instrument":0},{"position":96,"instrument":2},{"position":144,"instrument":0},{"position":160,"instrument":0},{"position":176,"instrument":0}],"resolution":4,"instrumentTracks":{"0":{"rep":[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],"resolution":4},"1":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"2":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"10":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"11":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"12":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"13":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"16":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"17":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"18":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"20":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"21":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4},"22":{"rep":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"resolution":4}}},{"size":192,"name":["squash"],"notes":[{"position":0,"instrument":0},{"position":0,"instrument":2},{"position":0,"instrument":21},{"position":0,"instrument":12},{"position":48,"instrument":0},{"position":48,"instrument":2},{"position":48,"instrument":21},{"position":48,"instrument":12},{"position":96,"instrument":0},{"position":96,"instrument":2},{"position":96,"instrument":21},{"position":96,"instrument":12},{"position":144,"instrument":0},{"position":144,"instrument":2},{"position":144,"instrument":21},{"position":144,"instrument":12}],"resolution":48,"instrumentTracks":{"0":{"rep":[1,1,1,1],"resolution":48},"1":{"rep":[0,0,0,0],"resolution":48},"2":{"rep":[1,1,1,1],"resolution":48},"10":{"rep":[0,0,0,0],"resolution":48},"11":{"rep":[0,0,0,0],"resolution":48},"12":{"rep":[1,1,1,1],"resolution":48},"13":{"rep":[0,0,0,0],"resolution":48},"16":{"rep":[0,0,0,0],"resolution":48},"17":{"rep":[0,0,0,0],"resolution":48},"18":{"rep":[0,0,0,0],"resolution":48},"20":{"rep":[0,0,0,0],"resolution":48},"21":{"rep":[1,1,1,1],"resolution":48},"22":{"rep":[0,0,0,0],"resolution":48}}}]}')},158:function(t,e,n){"use strict";var r=n(13),i=n(17),a=n(18),o=n(35),s=n(33),u=n(0),l=n.n(u),c=n(11),m=function(){function t(){Object(i.a)(this,t)}return Object(a.a)(t,null,[{key:"determineMinResolution",value:function(t,e){for(var n=48,i=function(){var e=Object(r.a)(o[a],2),i=e[0],s=e[1];t.filter((function(t){return t.id.toString()===i})).length>0&&!s.empty()&&(n=Math.min(n,s.resolution))},a=0,o=Object.entries(e);a<o.length;a++)i();return n}},{key:"determineTrackLength",value:function(t,e){for(var n=48,i=function(){var e=Object(r.a)(o[a],2),i=e[0],s=e[1];t.filter((function(t){return t.id.toString()===i})).length>0&&!s.empty()&&(n=Math.max(n,s.length()))},a=0,o=Object.entries(e);a<o.length;a++)i();return n}},{key:"peakAmplitude",value:function(t){for(var e=0,n=0;n<t.numberOfChannels;n++)for(var r=t.getChannelData(n),i=0;i<r.length;++i)e=Math.max(Math.abs(r[i]),e);return e}},{key:"normalizeAudioBuffer",value:function(e){var n=t.peakAmplitude(e);if(n>1)for(var r=0;r<e.numberOfChannels;r++)for(var i=e.getChannelData(r),a=0;a<i.length;++a)i[a]=i[a]/n;return e}},{key:"createMasterTrack",value:function(e,n,i,a,o){for(var s=t.determineTrackLength(i,n),u=44100*(s*(60/o*1e3/48))/1e3,l=Math.floor(u),m=Math.floor(l/s),p=e.createBuffer(2,l,44100),f=0;f<p.numberOfChannels;f++)for(var d=p.getChannelData(f),h=function(){var t=Object(r.a)(g[v],2),e=t[0],n=t[1],o=i.filter((function(t){return t.id.toString()===e}));if(o.length>0&&o[0].id in a&&!n.empty()){var s,u=a[o[0].id],l=2===u.numberOfChannels?u.getChannelData(f):u.getChannelData(0),p=n.toPoints(),h=Object(c.a)(p);try{for(h.s();!(s=h.n()).done;)for(var b=s.value*m,k=0;k<u.length;++k)d[b+k]=d[b+k]+l[k]}catch(y){h.e(y)}finally{h.f()}}},v=0,g=Object.entries(n);v<g.length;v++)h();return t.normalizeAudioBuffer(p)}},{key:"createAudioSource",value:function(t,e){var n=t.createBufferSource();return n.buffer=e,n.loop=!0,n.connect(t.destination),n}}]),t}();m.context=new(window.AudioContext||window.webkitAudioContext||Object);var p=m,f=function(){function t(){Object(i.a)(this,t)}return Object(a.a)(t,null,[{key:"make",value:function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="arraybuffer",r.onload=function(){200===r.status?e(r.response):n(Error("Buffer didn't load successfully; error code:"+r.statusText))},r.onerror=function(){n(Error("There was a network error."))},r.send()}))}},{key:"parse",value:function(t,e){return new Promise((function(n,r){t.decodeAudioData(e,(function(t){t?n(t):r("buffer null")}),(function(t){r(t)}))}))}}]),t}(),d=n(45),h=n(154),v=n.n(h),g=n(155),b=n.n(g),k=["circAfrique v4","DeathMetal","The Black Pearl 1.0","GMRockKit","TR808EmulationKit"],y=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this,t)).state={audioBuffer:null,audioSource:null,soundsPopulated:!1},r.sounds={},r}return Object(a.a)(n,[{key:"populateSounds",value:function(){for(var t=this,e=[],n=function(){var n=Object(r.a)(a[i],1)[0],o=t.props.instrumentIndex.filter((function(t){return t.id.toString()===n}));if(o.length>0){var s=o[0];if("drumkit"in s&&"filename"in s&&k.includes(s.drumkit)){var u=s.filename.replace(".flac",".wav");if(!(s.id in t.sounds)){var l="/tabit/wav/"+s.drumkit+"/"+u,c=p.context,m=t.sounds;e.push(f.make(l).then((function(t){return f.parse(c,t)})).then((function(t){m[s.id]=t})).catch((function(t){console.log(t)})))}}}},i=0,a=Object.entries(this.props.tracks);i<a.length;i++)n();var o=this.sounds,s=this.props.instrumentIndex,u=this.props.tracks,l=this;Promise.all(e).then((function(){var t=p.createMasterTrack(p.context,u,s,o,100);l.setState({audioBuffer:t,resolution:p.determineMinResolution(s,u),length:p.determineTrackLength(s,u),soundsPopulated:!0})}))}},{key:"stop",value:function(){this.state.audioSource&&(this.state.audioSource.stop(),null!=this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null),this.playPos=0,this.setState({audioSource:null}))}},{key:"componentDidUpdate",value:function(t,e,n){var r=t.tracks!=this.props.tracks;if(r&&this.stop(),r&&this.state.soundsPopulated){var i=p.createMasterTrack(p.context,this.props.tracks,this.props.instrumentIndex,this.sounds,100);this.setState({audioBuffer:i,resolution:p.determineMinResolution(this.props.instrumentIndex,this.props.tracks),length:p.determineTrackLength(this.props.instrumentIndex,this.props.tracks)}),e.audioSource&&this.playBuffer(i)}}},{key:"componentDidMount",value:function(){this.populateSounds()}},{key:"playBuffer",value:function(t){var e=this,n=p.createAudioSource(p.context,t);n.start(),this.startTime=p.context.currentTime;this.props.onPlaybackPositionChange&&function t(){var n=p.context.currentTime,r=(n-e.startTime)/e.state.audioBuffer.duration%1,i=(n-e.startTime)/.15,a=Math.round(i),o=e.startTime+.15*(a+1);e.timeoutID=setTimeout(t,Math.floor(1e3*(o-p.context.currentTime))),e.props.onPlaybackPositionChange&&e.props.onPlaybackPositionChange(r)}(),this.setState({audioSource:n})}},{key:"render",value:function(){var t=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(d.a,{color:"primary","aria-label":"play",onClick:function(e){!t.state.audioSource&&t.state.audioBuffer&&t.playBuffer(t.state.audioBuffer)}},l.a.createElement(v.a,null)),l.a.createElement(d.a,{color:"secondary","aria-label":"stop",onClick:function(e){t.stop()}},l.a.createElement(b.a,null))))}}]),n}(l.a.Component);e.a=y},184:function(t,e,n){t.exports=n(222)},189:function(t,e,n){},208:function(t,e){},210:function(t,e){},220:function(t,e,n){},222:function(t,e,n){"use strict";n.r(e);var r=n(0),i=n.n(r),a=n(10),o=n.n(a),s=(n(189),n(141));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(s.a,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},44:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n(13),i=n(11),a={"Djembe Slap":"S","Djembe Tone":"t","Djembe Bass":"O","Snare Ghost":"-","Snare Accent":"X","Shaker Ghost":"x","Shaker Accent":"X",Click:"X",Bass:"O",Tom:"O",Default:"X"};function o(t){var e,n=[],r=Object(i.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value,o=Object.assign({},a);o.name=o.name[0].toLowerCase(),n.push(o)}}catch(s){r.e(s)}finally{r.f()}return n}function s(t,e,n,r){var a=[];if(2===t.length){var o=t[0],s=t[1],u=o.volume>s.volume||o.volume===s.volume&&o.gain>s.gain,l={};l[o.id.toString()]=u?n:r,l[s.id.toString()]=u?r:n,a.push([e,l])}else{var c,m=Object(i.a)(t);try{for(m.s();!(c=m.n()).done;){var p=c.value,f={};f[p.id.toString()]=n,a.push([e,f])}}catch(d){m.e(d)}finally{m.f()}}return a}function u(t){var e,n=new Set,a=Object(i.a)(t);try{for(a.s();!(e=a.n()).done;)for(var o=e.value,s=0,u=Object.entries(o.instrumentTracks);s<u.length;s++){var l=Object(r.a)(u[s],2),c=l[0];l[1].empty()||n.add(parseInt(c))}}catch(m){a.e(m)}finally{a.f()}return n}function l(t,e){var n,r=u(e),a=[],o=Object(i.a)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.has(s.id)&&a.push(s)}}catch(l){o.e(l)}finally{o.f()}return a}function c(t,e,n){var r=[];r=(r=(r=(r=r.concat(function(t,e,n){for(var r=o(t),i=u(n),a=r.filter((function(t){return i.has(t.id)&&!t.name.includes("djembe")&&(t.name.includes("click")||t.name.includes("stick")||t.name.includes("tom")||t.name.includes("bass")||t.name.includes("kick"))})),s=Array.from(a,(function(t){return t.name.includes("click")||t.name.includes("stick")})),l=[],c=0;c<Math.floor(a.length/2);++c)if(s[2*c]!==s[2*c+1]){var m=s[2*c]?a[2*c]:a[2*c+1],p=s[2*c]?a[2*c+1]:a[2*c],f=p.name.includes("tom")?"Tom":"Bass",d={};d[p.id.toString()]=e[f],d[m.id.toString()]=e.Click,l.push([f,d])}if(a.length%2!==0&&!s[a.length-1]){var h=a[a.length-1],v=h.name.includes("tom")?"Tom":"Bass",g={};g[h.id.toString()]=e[v],l.push([v,g])}return l}(t,e,n))).concat(function(t,e){var n=o(t).filter((function(t){return t.name.includes("djembe")}));if(0===n.length)return[];if(n.length<=3){for(var r=Array.from(n,(function(t){return t.name.includes("slap")})),i=Array.from(n,(function(t){return t.name.includes("tone")})),a=Array.from(n,(function(t){return t.name.includes("bass")})),s=0;s<n.length;++s){if(1!==r[s]+i[s]+a[s])return[]}for(var u={},l=0;l<n.length;++l)r[l]?u[n[l].id.toString()]=e["Djembe Slap"]:i[l]?u[n[l].id.toString()]=e["Djembe Tone"]:a[l]&&(u[n[l].id.toString()]=e["Djembe Bass"]);return[["Djembe",u]]}return[]}(t,e))).concat(function(t,e){return s(o(t).filter((function(t){return t.name.includes("snare")})),"Snare",e["Snare Accent"],e["Snare Ghost"])}(t,e))).concat(function(t,e){return s(o(t).filter((function(t){return t.name.includes("shaker")})),"Shaker",e["Shaker Accent"],e["Shaker Ghost"])}(t,e));var a,l=u(n),c=Object(i.a)(t);try{for(c.s();!(a=c.n()).done;){var m=a.value;if(l.has(m.id)){var p,f=!1,d=Object(i.a)(r);try{for(d.s();!(p=d.n()).done;){var h=p.value;m.id.toString()in h[1]&&(f=!0)}}catch(g){d.e(g)}finally{d.f()}if(!1===f){var v={};v[m.id.toString()]=e.Default,r.push([m.name[0],v])}}}}catch(g){c.e(g)}finally{c.f()}return r}},51:function(t,e,n){"use strict";var r=n(13),i=n(17),a=n(18),o=function(){function t(){Object(i.a)(this,t)}return Object(a.a)(t,null,[{key:"validateConfig",value:function(t,e){if(null!=e&&t.beatResolution%e!==0)throw new Error("patternResolution doesn't divide beatResolution");if(t.lineResolution<=0)throw new Error("config.lineResolution doesn't divide patternResolution")}},{key:"chunkString",value:function(t,e){if(e<=0)throw new Error("chunkSize must be > 0");return t.match(new RegExp(".{1,"+e+"}","g"))}},{key:"createNumberMarker",value:function(e,n,r){if(n<=0||r<=0)throw new Error("(patternResolution, patternSize) arguments <= 0");if(r%n!==0)throw new Error("patternSize,doesn't divide patternResolution");t.validateConfig(e,n);for(var i=Math.min(r,e.lineResolution),a=Math.ceil(i/e.beatResolution),o=Array.from(Array(i/n),(function(t){return e.numberRestMark})),s=0;s<a;s++)o[s*(e.beatResolution/n)]=((s+1)%10).toString();return o.join("")}},{key:"formatLineWithMarkers",value:function(e,n,r,i){t.validateConfig(e);for(var a=e.beatResolution/r,o=i?function(t,e){return"<span class='note-"+(n=e,((n+="").length>=(r=4)?n:new Array(r-n.length+1).join("0")+n)+"'>")+t+"</span>";var n,r}:function(t,e){return t},s="",u=0;u<n.length;++u){var l=r*u;s+=o(n.charAt(u),l)}var c=e.showBeatMark?t.chunkString(s,a*o("X",0).length).join(e.beatMark):s;return e.lineMark+c+e.lineMark}},{key:"fromInstrumentAndTrack",value:function(e,n,i){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=0,s=Object.keys(a);o<s.length;o++){var u=s[o];if(!t.DEFAULT_FORMAT_CONFIG.hasOwnProperty(u))throw new Error("passed unrecognised property "+u)}var l=Object.assign(Object.assign({},t.DEFAULT_FORMAT_CONFIG),a),c=Object.values(n);if(0===c.length)return"";for(var m=c[0].length(),p=c[0].resolution,f=c[0].length()/c[0].resolution,d=Array(f).fill(l.restMark),h=0;h<d.length;++h)for(var v=0,g=Object.entries(e);v<g.length;v++){var b=Object(r.a)(g[v],2),k=b[0],y=b[1],O=n[k];null!=O&&1===O.rep[h]&&(d[h]=y)}var E=d.join(""),w=t.chunkString(E,l.lineResolution/p),j=[];l.showBeatNumbers&&j.push(t.formatLineWithMarkers(l,t.createNumberMarker(l,p,m),p,i));for(var S=0;S<w.length;++S)j.push(t.formatLineWithMarkers(l,w[S],p,i));return j.join("\n")}}]),t}();o.DEFAULT_FORMAT_CONFIG={restMark:"-",beatMark:"|",lineMark:"|",numberRestMark:"-",beatResolution:48,showBeatMark:!0,showBeatNumbers:!0,lineResolution:768},o.FORMAT_CONFIG_STRINGS=[["restMark",["-","."," "]],["numberRestMark",["-","."," "]],["beatResolution",["24","48","96"]]],o.FORMAT_CONFIG_BOOLS=["showBeatMark","showBeatNumbers"],e.a=o},65:function(t,e,n){"use strict";n.d(e,"b",(function(){return B})),n.d(e,"a",(function(){return z}));var r=n(90),i=n(13),a=n(0),o=n.n(a),s=n(161),u=n(163),l=n(241),c=n(231),m=n(233),p=n(67),f=n(230),d=n(232),h=n(118),v=n(152),g=n.n(v),b=n(115),k=n.n(b),y=n(68),O=n(45),E=n(151),w=n.n(E),j=n(171),S=n(164),C=n(169),M=n(167),x=n(168),T=n(166),A=n(4),I=n(28),R=Object(s.a)((function(t){return{root:{display:"flex"}}})),P=Object(A.a)({root:{marginLeft:0,marginRight:0}})(u.a),D=Object(A.a)({root:{padding:2}})(O.a),F=Object(A.a)({root:{textAlign:"center"}})(p.a);function z(t){var e=R(),n=o.a.useState(-1),a=Object(i.a)(n,2),s=a[0],u=a[1],v=o.a.useState(""),b=Object(i.a)(v,2),E=b[0],A=b[1],z=function(e,n){return o.a.createElement(p.a,{align:"center"},o.a.createElement(P,{control:o.a.createElement(l.a,{checked:t.instrumentMask[e]===n,onChange:function(r){return function(e,n,r){var i=t.instrumentIndex[e].id,a=t.instruments.findIndex((function(t){return i in t[1]})),o=n;if(a!==o){var s=t.instruments[a],u=["",{}];if(null!=s){u[0]=s[0];for(var l=0,c=Object.keys(s[1]);l<c.length;l++){var m=c[l];m!==i.toString()&&(u[1][m]=s[1][m])}}var p=[t.instruments[o][0],Object.assign({},t.instruments[o][1])];p[1][i.toString()]=null!=s?s[1][i]:"X";for(var f=[],d=0;d<t.instruments.length;++d)d===a?f.push(u):d===o?f.push(p):f.push(t.instruments[d]);t.onChange(f)}}(e,n)},name:e+","+n.toString()})}))},B=function(e){return o.a.createElement(h.a,null,o.a.createElement(p.a,{component:"th",scope:"row"},o.a.createElement(I.a,null,t.instruments[e][0]),o.a.createElement(D,{onClick:function(t){return u(e)}},o.a.createElement(k.a,{fontSize:"small"})),o.a.createElement(D,{onClick:function(n){!function(e){var n=t.instruments.slice(0,e).concat(t.instruments.slice(e+1));t.onChange(n)}(e)}},o.a.createElement(w.a,{fontSize:"small"}))),Object(r.a)(Array(t.instrumentIndex.length).keys()).map((function(t){return z(t,e)})))},_=o.a.useState(-1),N=Object(i.a)(_,2),G=N[0],L=N[1],q=o.a.useState(""),W=Object(i.a)(q,2),X=W[0],H=W[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(S.a,{open:s>=0,onClose:function(t){return u(-1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(T.a,{id:"form-dialog-title"}),o.a.createElement(M.a,null,o.a.createElement(x.a,null,"Enter instrument name"),o.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"name",fullWidth:!0,value:E,onChange:function(t){return A(t.target.value)}})),o.a.createElement(C.a,null,o.a.createElement(y.a,{onClick:function(t){return u(-1)},color:"primary"},"Cancel"),o.a.createElement(y.a,{onClick:function(e){var n=E.trim();if(n.length>0)if(s===t.instruments.length){var r=[n,{}],i=Array.from(t.instruments);i.push(r),t.onChange(i)}else{var a=Array.from(t.instruments);a[s][0]=n,t.onChange(a)}u(-1),A("")},color:"primary"},"Confirm"))),o.a.createElement(S.a,{open:G>=0,onClose:function(t){return L(-1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(T.a,{id:"form-dialog-title"}),o.a.createElement(M.a,null,o.a.createElement(x.a,null,"Enter notation symbol"),o.a.createElement(j.a,{autoFocus:!0,margin:"dense",id:"name",fullWidth:!0,value:X,onChange:function(t){return H(t.target.value)}})),o.a.createElement(C.a,null,o.a.createElement(y.a,{onClick:function(t){return L(-1)},color:"primary"},"Cancel"),o.a.createElement(y.a,{onClick:function(e){var n=X;if(1===n.length){var r=t.instrumentIndex[G].id,i=t.instruments.findIndex((function(t){return r in t[1]})),a=Array.from(t.instruments);a[i][1][r]=X,t.onChange(a)}else alert('You selected an invalid symbol "'+n+'".\nSymbols must be precisely 1 character.');L(-1)},color:"primary"},"Confirm"))),o.a.createElement(f.a,null,o.a.createElement(c.a,{className:e.table,"aria-label":"simple table"},o.a.createElement(d.a,null,o.a.createElement(h.a,null,o.a.createElement(p.a,null," Instrument "),Object(r.a)(Array(t.instrumentIndex.length).keys()).map((function(e){return o.a.createElement(F,null,o.a.createElement(I.a,null,t.instrumentIndex[e].name),o.a.createElement(D,{onClick:function(n){return function(e){var n=t.instrumentIndex[e].id,r=t.instruments.findIndex((function(t){return n in t[1]})),i=t.instruments[r][1][n];H(i),L(e)}(e)}},o.a.createElement(k.a,{fontSize:"small"})))})))),o.a.createElement(m.a,null,Object(r.a)(Array(t.instruments.length).keys()).map((function(t){return B(t)})),o.a.createElement(h.a,null,o.a.createElement(p.a,{component:"th",scope:"row"},o.a.createElement(O.a,{onClick:function(e){return u(t.instruments.length)},"aria-label":"add"},o.a.createElement(g.a,null))))))))}function B(t,e){for(var n=Array(t.length),r=0;r<t.length;++r)for(var i=t[r].id,a=0;a<e.length;++a){var o=e[a];i.toString()in o[1]&&(n[r]=a)}return n}},82:function(t,e,n){"use strict";var r=n(11),i=n(17),a=n(18),o=n(83);var s=function(){function t(e,n){if(Object(i.a)(this,t),0===e.length)throw new Error("patternArray must not be zero length");this.rep=e,this.resolution=n}return Object(a.a)(t,[{key:"length",value:function(){return this.rep.length*this.resolution}},{key:"empty",value:function(){return 0===this.rep.reduce((function(t,e){return t+e}))}},{key:"_sumOverlapsOfArrays",value:function(t,e){for(var n=0,r=0;r<t.length;++r)t[r]&&e[r]&&n++;return n}},{key:"countOverlaps",value:function(t){if(this.resolution===t.resolution)return this._sumOverlapsOfArrays(this.rep,t.rep);var e=function(t,e){if(t<1||e<1)throw new Error("x<1 || y<1");for(;Math.max(t,e)%Math.min(t,e)!==0;)t>e?t%=e:e%=t;return Math.min(t,e)}(this.resolution,t.resolution),n=this.formatResolution(e),r=t.formatResolution(e);return this._sumOverlapsOfArrays(n.rep,r.rep)}},{key:"format",value:function(e){var n=this.resolution*this.rep.length,r=this.toPoints(),i=t.representPoints(r,e,n);return i?new t(i,e):null}},{key:"toPoints",value:function(){var t,e=[],n=Object(r.a)(Array(this.rep.length).keys());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.rep[i]&&e.push(this.resolution*i)}}catch(a){n.e(a)}finally{n.f()}return e}}],[{key:"representPoints",value:function(t,e,n){if(n<=0)throw new Error("size must be greater than zero");if(n<e||n%e!==0)throw new Error("resolution must be less than size and divide it evenly");var i,a=new Array(n/e).fill(0),o=Object(r.a)(t);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s%e!==0)throw new Error("Failed to represent point "+s.toString()+" at resolution "+e.toString());if(s>=n)throw new Error("Failed to represent point "+s.toString()+" for invalid specified size "+n.toString());a[s/e]=1}}catch(u){o.e(u)}finally{o.f()}return a}},{key:"fromPositions",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null!==r&&void 0!==r?r:Object(o.a)(e,n);return new t(t.representPoints(e,i,n),i)}}]),t}();e.a=s},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(11);function i(t,e){for(var n=t.concat([e]),i=0,a=[48,24,16,12,8,6,4,3,2,1];i<a.length;i++){var o,s=a[i],u=!0,l=Object(r.a)(n);try{for(l.s();!(o=l.n()).done;){if(o.value%s!==0){u=!1;break}}}catch(c){l.e(c)}finally{l.f()}if(u)return s}throw new Error("Failed to predict base")}}},[[184,1,2]]]);
//# sourceMappingURL=main.ef7d0b77.chunk.js.map